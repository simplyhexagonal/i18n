var I18N=(()=>{var j=Object.create;var c=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var y=t=>c(t,"__esModule",{value:!0});var l=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,n)=>(typeof require!="undefined"?require:e)[n]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var v=(t,e)=>{y(t);for(var n in e)c(t,n,{get:e[n],enumerable:!0})},N=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of M(e))!b.call(t,s)&&s!=="default"&&c(t,s,{get:()=>e[s],enumerable:!(n=P(e,s))||n.enumerable});return t},p=t=>N(y(c(t!=null?j(R(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var A={};v(A,{default:()=>o});var h=p(l("fs")),r=p(l("i18next")),f=p(l("@simplyhexagonal/multi-replace")),g=p(l("@simplyhexagonal/mono-context"));var d="1.2.2";var i=class{constructor(e,n){this._logfn=(...e)=>console.log(`
	\u{1F7E1} `,...e,`
`);this._generateReplacer=e=>(n,s)=>e(s);this.t=null;this.matchers=[/__\(\s*['"`](.+?)['"`]\s*\)/g];this.replacer=(e,n)=>(i.instance._logfn("I18N WARNING: replacer called but is not ready! Did you forget to await initPromise?"),n);this.i18next=r.default;this.changeLanguage=r.default.changeLanguage.bind(r.default);this.plugins={esbuild:{name:"i18n",setup(e){[[/\.tsx$/,"tsx"],[/\.ts$/,"ts"],[/\.jsx$/,"jsx"],[/\.js$/,"js"]].forEach(([s,a])=>{e.onLoad({filter:s},async u=>{await i.instance.initPromise;let m=h.default.readFileSync(u.path,"utf8");return{contents:i.instance.apply(m),loader:a}})})}},vite:{name:"i18n",transform:async e=>(await i.instance.initPromise,{code:i.instance.apply(e),map:null}),transformIndexHtml:async e=>(await i.instance.initPromise,i.instance.apply(e))}};this.apply=e=>{let n=this.matchers.map(s=>[s,this.replacer]);return(0,f.multiReplaceSync)(e,n)};if(g.default.count("I18N")>1)return i.instance._logfn("I18N WARNING: already initialized! Returning existing instance..."),i.instance;this.initPromise=r.default.use({type:"postProcessor",name:"warnMissingTranslation",process:(a,u,m,x)=>([a].flat().join("")===[u].flat().join("")&&i.stringifyAndAlert(a),a)}).init({...e,postProcess:["warnMissingTranslation",...e.postProcess||[]]}).then(a=>(this.t=a,this.replacer=this._generateReplacer(a),a)),typeof(g.default.getStateValue("logger")||{}).warn=="function"&&(this._logfn=(...a)=>g.default.getStateValue("logger").warn(...a)),n&&(this.matchers=n),i.instance=this}},o=i;o.version=d,o.stringifyAndAlert=e=>{let{language:n}=i.instance.i18next;return i.instance._logfn(`I18N WARNING: Missing "${n}" translation for: ${e}`),JSON.stringify(e)};return A;})();
'undefined'!=typeof module&&(module.exports=I18N.default),'undefined'!=typeof window&&(I18N=I18N.default);